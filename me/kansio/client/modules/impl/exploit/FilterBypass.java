package me.kansio.client.modules.impl.exploit;

import me.kansio.client.modules.impl.*;
import me.kansio.client.modules.api.*;
import me.kansio.client.event.impl.*;
import net.minecraft.network.play.client.*;
import org.apache.commons.lang3.*;
import me.kansio.client.utils.network.*;
import net.minecraft.network.*;
import com.google.common.eventbus.*;

@ModuleData(name = "Chat Bypass", category = ModuleCategory.EXPLOIT, description = "Detects anti filters")
public class FilterBypass extends Module
{
    @Subscribe
    public void onPacket(final PacketEvent llIIIllIIIIIIl) {
        if (llIIIllIIIIIIl.getPacket() instanceof C01PacketChatMessage) {
            final String llIIIllIIIIllI = llIIIllIIIIIIl.getPacket().getMessage();
            if (llIIIllIIIIllI.startsWith("/")) {
                return;
            }
            final char[] llIIIllIIIIlIl = llIIIllIIIIllI.toCharArray();
            final StringBuilder llIIIllIIIIlII = new StringBuilder();
            final byte llIIIlIlllllIl = (Object)llIIIllIIIIlIl;
            final int llIIIlIlllllII = llIIIlIlllllIl.length;
            for (long llIIIlIllllIll = 0; llIIIlIllllIll < llIIIlIlllllII; ++llIIIlIllllIll) {
                final char llIIIllIIIIlll = llIIIlIlllllIl[llIIIlIllllIll];
                if (RandomUtils.nextInt(0, 4) == 0) {
                    llIIIllIIIIlII.append("\u061c");
                }
                llIIIllIIIIlII.append(llIIIllIIIIlll);
            }
            llIIIllIIIIIIl.setCancelled(true);
            PacketUtil.sendPacketNoEvent(new C01PacketChatMessage(String.valueOf(llIIIllIIIIlII)));
        }
    }
}
