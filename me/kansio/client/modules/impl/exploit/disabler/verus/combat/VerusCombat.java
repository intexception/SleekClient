package me.kansio.client.modules.impl.exploit.disabler.verus.combat;

import me.kansio.client.modules.impl.exploit.disabler.*;
import java.util.*;
import net.minecraft.network.*;
import me.kansio.client.utils.chat.*;
import me.kansio.client.utils.network.*;
import me.kansio.client.event.impl.*;
import net.minecraft.network.play.client.*;

public class VerusCombat extends DisablerMode
{
    private /* synthetic */ LinkedList<Packet> transactions;
    
    @Override
    public void onEnable() {
        this.transactions.clear();
    }
    
    @Override
    public void onUpdate(final UpdateEvent llllllllllllllllllllIIIIlIIlIIlI) {
        if (VerusCombat.mc.thePlayer.ticksExisted % 180 == 0) {
            ChatUtil.log(String.valueOf(new StringBuilder().append(this.transactions.size()).append("")));
            if (this.transactions.size() > 20) {
                for (int llllllllllllllllllllIIIIlIIlIlII = 0; llllllllllllllllllllIIIIlIIlIlII < this.transactions.size(); ++llllllllllllllllllllIIIIlIIlIlII) {
                    PacketUtil.sendPacketNoEvent(this.transactions.poll());
                }
            }
        }
    }
    
    public VerusCombat() {
        super("Verus Combat");
        this.transactions = new LinkedList<Packet>();
    }
    
    @Override
    public void onPacket(final PacketEvent llllllllllllllllllllIIIIlIIllIII) {
        if (llllllllllllllllllllIIIIlIIllIII.getPacket() instanceof C0FPacketConfirmTransaction) {
            final C0FPacketConfirmTransaction llllllllllllllllllllIIIIlIIlllII = llllllllllllllllllllIIIIlIIllIII.getPacket();
            this.transactions.add(llllllllllllllllllllIIIIlIIlllII);
            llllllllllllllllllllIIIIlIIllIII.setCancelled(true);
        }
        else if (llllllllllllllllllllIIIIlIIllIII.getPacket() instanceof C0BPacketEntityAction) {
            llllllllllllllllllllIIIIlIIllIII.setCancelled(true);
        }
    }
}
