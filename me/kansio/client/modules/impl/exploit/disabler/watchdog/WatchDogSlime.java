package me.kansio.client.modules.impl.exploit.disabler.watchdog;

import me.kansio.client.modules.impl.exploit.disabler.*;
import net.minecraft.entity.player.*;
import net.minecraft.network.play.client.*;
import me.kansio.client.utils.network.*;
import net.minecraft.network.*;
import me.kansio.client.event.impl.*;
import net.minecraft.network.play.server.*;

public class WatchDogSlime extends DisablerMode
{
    @Override
    public void onUpdate(final UpdateEvent lIIlIllllIlll) {
        if (WatchDogSlime.mc.thePlayer.capabilities.allowFlying && WatchDogSlime.mc.thePlayer.ticksExisted % 24 == 0) {
            final PlayerCapabilities lIIlIlllllIIl = new PlayerCapabilities();
            lIIlIlllllIIl.isFlying = true;
            PacketUtil.sendPacket(new C13PacketPlayerAbilities(lIIlIlllllIIl));
        }
    }
    
    @Override
    public void onPacket(final PacketEvent lIIlIllllIIlI) {
        if (lIIlIllllIIlI.getPacket() instanceof S12PacketEntityVelocity || lIIlIllllIIlI.getPacket() instanceof S27PacketExplosion) {
            lIIlIllllIIlI.setCancelled(true);
        }
    }
    
    public WatchDogSlime() {
        super("Watchdog Slime");
    }
}
